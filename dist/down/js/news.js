function pulldownRefresh(){setTimeout(function(){ajaxData(pageNo,"down"),pageNo++,mui("#pullrefresh").pullRefresh().endPulldownToRefresh()},1500)}var myPathConfig=pathConfig,myRootPath=myPathConfig.rootPath,myNewsMethod=myPathConfig.newsMethod,ajaxData=function(e,t){function a(a,n,i){var o=document.getElementById("news-list");"down"==t?o.insertBefore(createFragment(a,e),o.firstChild):"up"==t?o.appendChild(createFragment(a,e)):o.appendChild(createFragment(a,e))}function n(){mui("#news-list").on("tap","a",function(e){mui.openWindow({url:this.getAttribute("href"),id:"news"})}),mui(document).imageLazyload({placeholder:"dist/images/60x60.gif",diff:!0,duration:300})}function i(e,t,a){"timeout"==a?alert("请求超时"):alert("获取数据失败")}$.ajax({url:myRootPath+myNewsMethod+e+"&pageNum=5",type:"GET",dataType:"jsonp",jsonp:"callback",async:!1,timeout:3e4,crossDomain:!0,success:a,complete:n,error:i})};ajaxData(1);var createFragment=function(e,t){var a,n=document.createDocumentFragment();return mui(e.list).each(function(e,t){a=document.createElement("li"),a.className="mui-table-view-cell mui-media news-list",a.innerHTML='<a class="mui-navigate-right" href="'+t.url+'"><img class="mui-media-object mui-pull-left" data-lazyload="'+t.img+'"><div class="mui-media-body">'+t.title+'<p class="mui-ellipsis">'+timeTranfer(t.releaseTime)+"</p></div></a>",n.appendChild(a)}),n};mui.init({pullRefresh:{container:"#pullrefresh",down:{contentdown:"下拉可以刷新",contentover:"释放立即刷新",contentnomore:"没有更多数据了",contentrefresh:"正在加载...",callback:pulldownRefresh}}});var pageNo=2;
//# sourceMappingURL=news.js.map
